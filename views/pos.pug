doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title MWF POS
    link(rel="stylesheet" href="/css/pos.css")
    link(rel="preconnect" href="https://fonts.googleapis.com")
    link(rel="preconnect" href="https://fonts.gstatic.com" crossorigin='')
    link(href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet")

  body
    .container
      .header.d-flex.justify-content-between.align-items-center
        .brand
          img.logo(src="/images/mwf-logo.png" alt="MWF Logo")
          h1 Mayondo Wood & Furniture
          p POS Terminal

        a.dashboard-link.btn.btn-success(href="/dashboard") Dashboard

      .main
        section#products-grid.products
          h3.text-success Product List
          .products-list
            each item in stockRecords
              .product-card.product(
                data-id=item._id 
                data-name=item.name 
                data-price=item.price
              )
                h5.title #{item.name}
                p.meta Type: #{item.type}
                p.price UGX #{item.price.toLocaleString()}
                button.btn.btn-add(type="button") Add to Cart

        aside.cart
          h3.text-success Cart
          ul#cartList.cart-list
          p#emptyMsg.empty Cart is empty
          .totals
            .total-row
              span.total-label Subtotal
              span#subtotal.total-amount UGX 0
            .total-row
              span.total-label Transport (5%)
              span#transport-fee.total-amount UGX 0
            .total-row.grand-total
              span.total-label Total
              span#total.total-amount UGX 0
          .checkout-row
            input#customerName.form-control(type="text", placeholder="Customer name (optional)")
            button#checkout-btn.btn.btn-pay Checkout
            button.btn.btn-print(type="button") Print Receipt

    // --- RECEIPT SECTION ---
    .receipt#print-section
      .receipt-header
        img(src="/images/mwf-logo.png", alt="MWF Logo")
        h2 Mayondo Wood & Furniture
        p üìç Location: Kampala, Uganda
        p üìû Tel: +256 700 123456
      hr
      p Receipt No: <span id="receipt-number">MWF-XXXXXX</span>
      p Date: #{new Date().toLocaleDateString()} #{new Date().toLocaleTimeString()}
      p Customer: <span id="receipt-customer">Walk-in</span>
      hr
      table.receipt-table
        thead
          tr
            th Item
            th Qty
            th Price
        tbody#receipt-items
      hr
      .receipt-totals
        p Subtotal: <span id="r-subtotal"></span>
        p Transport: <span id="r-transport"></span>
        p Total: <strong id="r-total"></strong>
      hr
      p.text-center Thank you for choosing MWF! üôè
      p.text-center Visit again soon.

    script(src="/js/pos.js")
