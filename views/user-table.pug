doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title MWF - User Management
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="/css/user-table.css")

  body
    // Navbar
    .navbar-custom.d-flex.justify-content-between.align-items-center.p-2
      .d-flex.align-items-center
        img(src="/images/mwf-logo.png" alt="MWF Logo" class="logo")
        span.ms-2.fw-bold Mayondo Wood & Furniture Ltd
      span.user-role Admin

    // User Management
    .content.container.mt-4
      .card.p-4.shadow
        h4.mb-3 Registered Users

        // Search + Filter Row
        form.d-flex.mb-3(action="/users" method="get")
          input.form-control.me-2(type="text" name="search" placeholder="Search by name or email" value=(search || ""))
          select.form-select.me-2(name="role")
            option(value="") All Roles
            option(value="Admin" selected=(role=="Admin")) Admin
            option(value="Manager" selected=(role=="Manager")) Manager
            option(value="Attendant" selected=(role=="Attendant")) Attendant
          button.btn.btn-success(type="submit") Search

        // User Table
        table.table.table-striped.table-hover.mt-3
          thead.table-dark
            tr
              th #
              th Full Name
              th Email
              th Role
              th Actions
          tbody
            if users.length
              each user, i in users
                tr
                  td #{i + 1}
                  td #{user.fullName}
                  td #{user.email}
                  td #{user.role}
                  td
                    button.btn.btn-sm.btn-primary.me-1(type="button") Edit
                    button.btn.btn-sm.btn-danger(type="button") Delete
            else
              tr
                td(colspan="5" class="text-center text-muted") No users found
