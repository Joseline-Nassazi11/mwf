doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title MWF - Stock Table
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="/css/stock-table.css")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css")

  body
    // Navbar
    .navbar-custom.d-flex.justify-content-between.align-items-center.p-2.bg-dark.text-white
      .d-flex.align-items-center
        img.logo(src="/images/mwf-logo.png" alt="MWF Logo")
        span.ms-2.fw-bold Mayondo Wood & Furniture Ltd
      ul.navbar-nav.ms-auto
        li.nav-item
          a.nav-link(href="/dashboard") Dashboard
      span.user-role Manager

    // Stock Table
    .content.container.mt-4
      .card.p-4.shadow
        .d-flex.justify-content-between.align-items-center.mb-3
          h4.mb-0 Products in Stock
          a.btn.btn-success.btn-sm(href="/stock")
            i.bi.bi-plus-lg.me-1
            | Add Stock
        
        table.table.table-striped.mt-3
          thead.table-dark
            tr
              th Product name
              th Type
              th Supplier
              th Quantity
              th Cost (UGX)
              th Price (UGX)
              th Quality
              th Last Update
              th Actions
          tbody
            if items && items.length
              each item in items
                tr
                  td #{item.name}
                  td #{item.type}
                  td #{item.supplier}
                  td #{item.quantity}
                  td #{item.cost}
                  td #{item.price}
                  td #{item.quality}
                  td #{moment(item.lastUpdate).format('YYYY-MM-DD')}
                  td
                    .btn-group.d-flex.justify-content-center
                      a.btn.btn-sm.btn-primary.me-1(href=`/stock/edit/${item._id}`) Edit
                      a.btn.btn-sm.btn-warning.me-1(href=`/stock/adjust/${item._id}`) Adjust
                      form(action=`/stock/delete/${item._id}` method="POST" style="display:inline")
                        button.btn.btn-sm.btn-danger(type="submit" onclick="return confirm('Are you sure?')") Delete
            else
              tr
                td(colspan="9").text-center No stock items found.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")